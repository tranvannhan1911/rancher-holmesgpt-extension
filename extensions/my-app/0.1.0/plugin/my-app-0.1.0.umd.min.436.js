(("undefined"!==typeof self?self:this)["webpackChunkmy_app_0_1_0"]=("undefined"!==typeof self?self:this)["webpackChunkmy_app_0_1_0"]||[]).push([[436],{6148:function(a,e,t){var n=t(6421);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[a.id,n,""]]),n.locals&&(a.exports=n.locals);var o=t(74825).A;o("5aec4850",n,!0,{sourceMap:!1,shadowMode:!1})},6421:function(a,e,t){"use strict";t.r(e);var n=t(36758),o=t.n(n),d=t(40935),r=t.n(d),i=r()(o());i.push([a.id,".chat-container[data-v-3f5da6a8]{max-width:900px;margin:0 auto;background:#fff;border-radius:16px;box-shadow:0 4px 24px rgba(0,0,0,.1);display:flex;flex-direction:column;height:80vh;overflow:hidden}.chat-header[data-v-3f5da6a8]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:1.5rem 2rem;border-radius:16px 16px 0 0}.header-content[data-v-3f5da6a8]{gap:1rem}.ai-avatar[data-v-3f5da6a8],.header-content[data-v-3f5da6a8]{display:flex;align-items:center}.ai-avatar[data-v-3f5da6a8]{width:48px;height:48px;background:hsla(0,0%,100%,.2);border-radius:12px;justify-content:center;backdrop-filter:blur(10px)}.brain-icon[data-v-3f5da6a8]{width:24px;height:24px}.header-text h2[data-v-3f5da6a8]{margin:0;font-size:1.5rem;font-weight:600}.status[data-v-3f5da6a8]{margin:.25rem 0 0 0;opacity:.9;font-size:.875rem}.hints-section[data-v-3f5da6a8]{background:#f8fafc;border-bottom:1px solid #e2e8f0;padding:1rem 2rem}.hints-container[data-v-3f5da6a8]{display:flex;flex-direction:column;gap:.75rem}.hints-label[data-v-3f5da6a8]{font-size:.875rem;font-weight:600;color:#475569}.hints-list[data-v-3f5da6a8]{display:flex;gap:.5rem;flex-wrap:wrap;overflow-x:auto;padding-bottom:.25rem}.hint-btn[data-v-3f5da6a8]{padding:.5rem 1rem;background:#fff;border:1px solid #d1d5db;border-radius:20px;cursor:pointer;font-size:.875rem;white-space:nowrap;transition:all .2s ease;color:#374151;font-weight:500}.hint-btn[data-v-3f5da6a8]:hover{background:#667eea;color:#fff;border-color:#667eea;transform:translateY(-1px);box-shadow:0 2px 8px rgba(102,126,234,.3)}.messages-container[data-v-3f5da6a8]{flex:1;overflow-y:auto;padding:0;background:#f8fafc}.messages-list[data-v-3f5da6a8]{padding:1.5rem;display:flex;flex-direction:column;gap:1rem;min-height:100%}.welcome-message[data-v-3f5da6a8]{display:flex;justify-content:center;align-items:center;flex:1;text-align:center}.welcome-content[data-v-3f5da6a8]{max-width:400px;padding:2rem}.welcome-icon[data-v-3f5da6a8]{font-size:3rem;margin-bottom:1rem}.welcome-content h3[data-v-3f5da6a8]{color:#1e293b;margin:0 0 .5rem 0;font-size:1.5rem;font-weight:600}.welcome-content p[data-v-3f5da6a8]{color:#64748b;margin:0;line-height:1.6}.message-wrapper[data-v-3f5da6a8]{display:flex;animation:messageSlide-3f5da6a8 .3s ease-out}.message-wrapper.user-message[data-v-3f5da6a8]{justify-content:flex-end}.message-wrapper.ai-message[data-v-3f5da6a8]{justify-content:flex-start}.message-bubble[data-v-3f5da6a8]{max-width:70%;min-width:100px}.user-message .message-bubble[data-v-3f5da6a8]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-radius:18px 18px 4px 18px;padding:1rem 1.25rem;box-shadow:0 2px 12px rgba(102,126,234,.3)}.ai-message .message-bubble[data-v-3f5da6a8]{background:#fff;color:#1e293b;border-radius:18px 18px 18px 4px;padding:1rem 1.25rem;box-shadow:0 2px 12px rgba(0,0,0,.1);border:1px solid #e2e8f0}.message-content[data-v-3f5da6a8]{margin-bottom:.5rem}.message-text[data-v-3f5da6a8]{line-height:1.5;font-size:.95rem;white-space:pre-wrap;word-wrap:break-word}.markdown-content[data-v-3f5da6a8]{line-height:1.6}.markdown-content h1[data-v-3f5da6a8],.markdown-content h2[data-v-3f5da6a8],.markdown-content h3[data-v-3f5da6a8],.markdown-content h4[data-v-3f5da6a8],.markdown-content h5[data-v-3f5da6a8],.markdown-content h6[data-v-3f5da6a8]{margin:1rem 0 .5rem 0;font-weight:600;line-height:1.3}.markdown-content h1[data-v-3f5da6a8]{font-size:1.5rem}.markdown-content h2[data-v-3f5da6a8]{font-size:1.3rem}.markdown-content h3[data-v-3f5da6a8]{font-size:1.1rem}.markdown-content h4[data-v-3f5da6a8]{font-size:1rem}.markdown-content p[data-v-3f5da6a8]{margin:.5rem 0}.markdown-content ol[data-v-3f5da6a8],.markdown-content ul[data-v-3f5da6a8]{margin:.5rem 0;padding-left:1.5rem}.markdown-content li[data-v-3f5da6a8]{margin:.25rem 0}.markdown-content code[data-v-3f5da6a8]{background:rgba(0,0,0,.1);padding:.2rem .4rem;border-radius:4px;font-family:Monaco,Menlo,Ubuntu Mono,monospace;font-size:.85rem}.ai-message .markdown-content code[data-v-3f5da6a8]{background:#f1f5f9;color:#475569}.markdown-content pre[data-v-3f5da6a8]{background:#f8fafc;border:1px solid #e2e8f0;border-radius:8px;padding:1rem;margin:.5rem 0;overflow-x:auto;font-family:Monaco,Menlo,Ubuntu Mono,monospace;font-size:.85rem;line-height:1.4}.markdown-content pre code[data-v-3f5da6a8]{background:none;padding:0;border-radius:0;font-size:inherit}.markdown-content blockquote[data-v-3f5da6a8]{border-left:4px solid #667eea;margin:.5rem 0;padding:.5rem 0 .5rem 1rem;background:rgba(102,126,234,.05);border-radius:0 4px 4px 0;font-style:italic}.markdown-content a[data-v-3f5da6a8]{color:#667eea;text-decoration:none;border-bottom:1px solid transparent;transition:border-color .2s ease}.markdown-content a[data-v-3f5da6a8]:hover{border-bottom-color:#667eea}.markdown-content table[data-v-3f5da6a8]{width:100%;border-collapse:collapse;margin:.5rem 0;font-size:.9rem}.markdown-content td[data-v-3f5da6a8],.markdown-content th[data-v-3f5da6a8]{border:1px solid #e2e8f0;padding:.5rem;text-align:left}.markdown-content th[data-v-3f5da6a8]{background:#f8fafc;font-weight:600}.markdown-content hr[data-v-3f5da6a8]{border:none;border-top:1px solid #e2e8f0;margin:1rem 0}.markdown-content strong[data-v-3f5da6a8]{font-weight:600}.markdown-content em[data-v-3f5da6a8]{font-style:italic}.message-time[data-v-3f5da6a8]{font-size:.75rem;opacity:.6;text-align:right}.user-message .message-time[data-v-3f5da6a8]{color:hsla(0,0%,100%,.8)}.ai-message .message-time[data-v-3f5da6a8]{color:#64748b}.thinking-indicator[data-v-3f5da6a8]{display:flex;align-items:center;gap:.75rem}.typing-dots[data-v-3f5da6a8]{display:flex;gap:4px}.typing-dots span[data-v-3f5da6a8]{width:6px;height:6px;background:#94a3b8;border-radius:50%;animation:typing-3f5da6a8 1.4s ease-in-out infinite}.typing-dots span[data-v-3f5da6a8]:nth-child(2){animation-delay:.2s}.typing-dots span[data-v-3f5da6a8]:nth-child(3){animation-delay:.4s}.thinking-text[data-v-3f5da6a8]{font-style:italic;color:#64748b;font-size:.9rem}.input-container[data-v-3f5da6a8]{padding:1.5rem 2rem 2rem 2rem;background:#fff;border-top:1px solid #e2e8f0}.input-wrapper[data-v-3f5da6a8]{display:flex;align-items:flex-end;gap:1rem;max-width:100%}.message-input[data-v-3f5da6a8]{flex:1;border:2px solid #e2e8f0;border-radius:12px;padding:1rem 1.25rem;font-size:1rem;font-family:inherit;resize:none;outline:none;transition:all .2s ease;line-height:1.5;max-height:120px;background:#f8fafc}.message-input[data-v-3f5da6a8]:focus{border-color:#667eea;background:#fff;box-shadow:0 0 0 3px rgba(102,126,234,.1)}.message-input[data-v-3f5da6a8]::-moz-placeholder{color:#94a3b8}.message-input[data-v-3f5da6a8]::placeholder{color:#94a3b8}.send-button[data-v-3f5da6a8]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:12px;width:48px;height:48px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;flex-shrink:0}.send-button[data-v-3f5da6a8]:hover:not(:disabled){transform:translateY(-1px);box-shadow:0 4px 12px rgba(102,126,234,.4)}.send-button[data-v-3f5da6a8]:active{transform:translateY(0)}.send-button[data-v-3f5da6a8]:disabled{opacity:.6;cursor:not-allowed;transform:none}.loading-spinner[data-v-3f5da6a8],.send-icon[data-v-3f5da6a8]{width:20px;height:20px}.loading-spinner[data-v-3f5da6a8]{border:2px solid hsla(0,0%,100%,.3);border-top:2px solid #fff;border-radius:50%;animation:spin-3f5da6a8 1s linear infinite}@keyframes messageSlide-3f5da6a8{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes typing-3f5da6a8{0%,60%,to{transform:translateY(0);opacity:.4}30%{transform:translateY(-10px);opacity:1}}@keyframes spin-3f5da6a8{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.messages-container[data-v-3f5da6a8]::-webkit-scrollbar{width:6px}.messages-container[data-v-3f5da6a8]::-webkit-scrollbar-track{background:transparent}.messages-container[data-v-3f5da6a8]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:3px}.messages-container[data-v-3f5da6a8]::-webkit-scrollbar-thumb:hover{background:#94a3b8}@media (max-width:768px){.chat-container[data-v-3f5da6a8]{height:100vh;border-radius:0;max-width:100%}.chat-header[data-v-3f5da6a8]{border-radius:0;padding:1rem}.hints-section[data-v-3f5da6a8]{padding:.75rem 1rem}.header-content[data-v-3f5da6a8]{gap:.75rem}.header-text h2[data-v-3f5da6a8]{font-size:1.25rem}.ai-avatar[data-v-3f5da6a8]{width:40px;height:40px}.brain-icon[data-v-3f5da6a8]{width:20px;height:20px}.messages-list[data-v-3f5da6a8]{padding:1rem}.message-bubble[data-v-3f5da6a8]{max-width:85%}.input-container[data-v-3f5da6a8]{padding:1rem}.input-wrapper[data-v-3f5da6a8]{gap:.75rem}.send-button[data-v-3f5da6a8]{width:44px;height:44px}.send-icon[data-v-3f5da6a8]{width:18px;height:18px}.hints-list[data-v-3f5da6a8]{gap:.375rem}.hint-btn[data-v-3f5da6a8]{font-size:.8rem;padding:.375rem .75rem}}@media (max-width:480px){.welcome-content[data-v-3f5da6a8]{padding:1rem}.welcome-content h3[data-v-3f5da6a8]{font-size:1.25rem}.message-bubble[data-v-3f5da6a8]{max-width:90%}}",""]),e["default"]=i},27436:function(a,e,t){"use strict";t.r(e),t.d(e,{default:function(){return M}});var n=t(9274),o=t(37069),d=t(28441),r=t(4364);const i={class:"chat-container"},s={key:0,class:"hints-section"},l={class:"hints-container"},c={class:"hints-list"},f=["onClick"],m={class:"messages-list"},p={key:0,class:"welcome-message"},u={class:"message-bubble"},h={class:"message-content"},g={key:0,class:"thinking-indicator"},v=["innerHTML"],b={key:2,class:"message-text"},x={class:"message-time"},k={class:"input-container"},w={class:"input-wrapper"},y=["onKeyup"],E=["disabled"],V={key:0,viewBox:"0 0 24 24",class:"send-icon"},N={key:1,class:"loading-spinner"},z="https://holmes.192.223.13.246.sslip.io/api/workload_health_chat";var B={__name:"ChatTabComponent",setup(a){const e=(0,o.lq)(),t=(e.params.cluster,e.params.resource||"pod"),B=e.params.id,C=e.params.namespace||"default",_=e.params.cluster||"local",M=(e.params.product,(0,n.ref)("")),A=(0,n.ref)([]),T=(0,n.ref)([]),H=(0,n.ref)([]),L=(0,n.ref)(null),S=(0,n.ref)(!1),j=(0,n.ref)(null),Y=(0,n.ref)(null),D=(0,n.ref)("Check workload health"),K=(0,n.ref)([]),O=(0,n.ref)(!0),q=new d.A({html:!0,linkify:!0,typographer:!0,breaks:!0});function I(a){return a.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}function U(a){return q.render(a)}function R(){const a=Y.value;a&&(a.style.height="auto",a.style.height=Math.min(a.scrollHeight,120)+"px")}function F(a){a.shiftKey||J()}function P(){(0,n.nextTick)(()=>{j.value&&(j.value.scrollTop=j.value.scrollHeight)})}function Z(a){M.value=a,J()}async function J(){const a=M.value.trim();if(!a||S.value)return;S.value=!0,A.value.push({role:"user",text:a}),T.value.push({role:"user",content:a}),M.value="",O.value=!1,Y.value&&(Y.value.style.height="auto"),P();const e={role:"ai",text:"💭 Agent is analyzing..."};A.value.push(e),P();try{const n={ask:a,resource:{name:B||"my-deployment",kind:t.charAt(0).toUpperCase()+t.slice(1),namespace:C,cluster:_},workload_health_result:L.value||{analysis:"",tools:[]}};H.value.length>0&&(n.conversation_history=H.value);const o=await fetch(z,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),d=await o.json();r.log("Response data:",d);const i=d.analysis||"[No reply]";H.value=d.conversation_history||[],L.value={analysis:i,tools:[]},K.value=d.follow_up_actions||[];const s=A.value.indexOf(e);-1!==s&&(A.value[s]={role:"ai",text:i}),T.value.push({role:"assistant",content:i})}catch(n){r.error("Chat error:",n);const a=A.value.indexOf(e);-1!==a&&(A.value[a]={role:"ai",text:"❌ Error: Could not reach N-TNT backend. Please try again."})}finally{S.value=!1,P()}}return(0,n.onMounted)(()=>{R()}),(a,e)=>((0,n.openBlock)(),(0,n.createElementBlock)("div",i,[e[6]||(e[6]=(0,n.createStaticVNode)('<div class="chat-header" data-v-3f5da6a8><div class="header-content" data-v-3f5da6a8><div class="ai-avatar" data-v-3f5da6a8><svg viewBox="0 0 24 24" class="brain-icon" data-v-3f5da6a8><path fill="currentColor" d="M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2M21 9V7L15 1H5C3.89 1 3 1.89 3 3V19C3 20.11 3.89 21 5 21H11V19H5V3H13V9H21Z" data-v-3f5da6a8></path></svg></div><div class="header-text" data-v-3f5da6a8><h2 data-v-3f5da6a8>🧠 AI Agent Assistant</h2><p class="status" data-v-3f5da6a8>Online • Ready to help with workload health</p></div></div></div>',1)),O.value||K.value.length>0?((0,n.openBlock)(),(0,n.createElementBlock)("div",s,[(0,n.createElementVNode)("div",l,[e[2]||(e[2]=(0,n.createElementVNode)("div",{class:"hints-label"},"Quick Actions:",-1)),(0,n.createElementVNode)("div",c,[O.value?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:0,class:"hint-btn",onClick:e[0]||(e[0]=a=>Z(D.value))},(0,n.toDisplayString)(D.value),1)):(0,n.createCommentVNode)("",!0),((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(K.value,(a,e)=>((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:e,class:"hint-btn",onClick:e=>Z(a.prompt)},(0,n.toDisplayString)(a.prompt),9,f))),128))])])])):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("div",{class:"messages-container",ref_key:"messagesContainer",ref:j},[(0,n.createElementVNode)("div",m,[0===A.value.length?((0,n.openBlock)(),(0,n.createElementBlock)("div",p,e[3]||(e[3]=[(0,n.createElementVNode)("div",{class:"welcome-content"},[(0,n.createElementVNode)("div",{class:"welcome-icon"},"🔍"),(0,n.createElementVNode)("h3",null,"Workload Health Assistant"),(0,n.createElementVNode)("p",null,"I'm here to help you analyze and troubleshoot your Kubernetes workloads. Click on a quick action above or ask me anything!")],-1)]))):(0,n.createCommentVNode)("",!0),((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(A.value,(a,t)=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:t,class:(0,n.normalizeClass)(["message-wrapper",{"user-message":"user"===a.role,"ai-message":"ai"===a.role}])},[(0,n.createElementVNode)("div",u,[(0,n.createElementVNode)("div",h,["ai"===a.role&&a.text.includes("💭")?((0,n.openBlock)(),(0,n.createElementBlock)("div",g,e[4]||(e[4]=[(0,n.createElementVNode)("div",{class:"typing-dots"},[(0,n.createElementVNode)("span"),(0,n.createElementVNode)("span"),(0,n.createElementVNode)("span")],-1),(0,n.createElementVNode)("span",{class:"thinking-text"},"Agent is analyzing...",-1)]))):"ai"===a.role?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:1,class:"message-text markdown-content",innerHTML:U(a.text)},null,8,v)):((0,n.openBlock)(),(0,n.createElementBlock)("div",b,(0,n.toDisplayString)(a.text),1))]),(0,n.createElementVNode)("div",x,(0,n.toDisplayString)(I(new Date)),1)])],2))),128))])],512),(0,n.createElementVNode)("div",k,[(0,n.createElementVNode)("div",w,[(0,n.withDirectives)((0,n.createElementVNode)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=a=>M.value=a),placeholder:"Ask about workload health, troubleshooting, or any Kubernetes questions...",onKeyup:(0,n.withKeys)((0,n.withModifiers)(F,["prevent"]),["enter"]),onInput:R,ref_key:"textareaRef",ref:Y,class:"message-input",rows:"1"},null,40,y),[[n.vModelText,M.value]]),(0,n.createElementVNode)("button",{onClick:J,disabled:!M.value.trim()||S.value,class:(0,n.normalizeClass)(["send-button",{loading:S.value}])},[S.value?((0,n.openBlock)(),(0,n.createElementBlock)("div",N)):((0,n.openBlock)(),(0,n.createElementBlock)("svg",V,e[5]||(e[5]=[(0,n.createElementVNode)("path",{fill:"currentColor",d:"M2,21L23,12L2,3V10L17,12L2,14V21Z"},null,-1)])))],10,E)])])]))}},C=(t(6148),t(47433));const _=(0,C.A)(B,[["__scopeId","data-v-3f5da6a8"]]);var M=_}}]);
//# sourceMappingURL=my-app-0.1.0.umd.min.436.js.map