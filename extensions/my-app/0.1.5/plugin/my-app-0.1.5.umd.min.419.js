(("undefined"!==typeof self?self:this)["webpackChunkmy_app_0_1_5"]=("undefined"!==typeof self?self:this)["webpackChunkmy_app_0_1_5"]||[]).push([[419],{13553:function(e,a,t){"use strict";t.r(a);var n=t(36758),o=t.n(n),r=t(40935),c=t.n(r),i=c()(o());i.push([e.id,".chat-container[data-v-10f8c36c]{max-width:900px;margin:0 auto;background:#fff;border-radius:16px;box-shadow:0 4px 24px rgba(0,0,0,.1);display:flex;flex-direction:column;height:80vh;overflow:hidden}.chat-header[data-v-10f8c36c]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:1.5rem 2rem;border-radius:16px 16px 0 0}.header-content[data-v-10f8c36c]{gap:1rem}.ai-avatar[data-v-10f8c36c],.header-content[data-v-10f8c36c]{display:flex;align-items:center}.ai-avatar[data-v-10f8c36c]{width:48px;height:48px;background:hsla(0,0%,100%,.2);border-radius:12px;justify-content:center;backdrop-filter:blur(10px)}.brain-icon[data-v-10f8c36c]{width:24px;height:24px}.header-text h2[data-v-10f8c36c]{margin:0;font-size:1.5rem;font-weight:600}.status[data-v-10f8c36c]{margin:.25rem 0 0 0;opacity:.9;font-size:.875rem}.hints-section[data-v-10f8c36c]{background:#f8fafc;border-bottom:1px solid #e2e8f0;padding:1rem 2rem}.hints-container[data-v-10f8c36c]{display:flex;flex-direction:column;gap:.75rem}.hints-label[data-v-10f8c36c]{font-size:.875rem;font-weight:600;color:#475569}.hints-list[data-v-10f8c36c]{display:flex;gap:.5rem;flex-wrap:wrap;overflow-x:auto;padding-bottom:.25rem}.hint-btn[data-v-10f8c36c]{padding:.5rem 1rem;background:#fff;border:1px solid #d1d5db;border-radius:20px;cursor:pointer;font-size:.875rem;white-space:nowrap;transition:all .2s ease;color:#374151;font-weight:500}.hint-btn[data-v-10f8c36c]:hover{background:#667eea;color:#fff;border-color:#667eea;transform:translateY(-1px);box-shadow:0 2px 8px rgba(102,126,234,.3)}.messages-container[data-v-10f8c36c]{flex:1;overflow-y:auto;padding:0;background:#f8fafc}.messages-list[data-v-10f8c36c]{padding:1.5rem;display:flex;flex-direction:column;gap:1rem;min-height:100%}.welcome-message[data-v-10f8c36c]{display:flex;justify-content:center;align-items:center;flex:1;text-align:center}.welcome-content[data-v-10f8c36c]{max-width:400px;padding:2rem}.welcome-icon[data-v-10f8c36c]{font-size:3rem;margin-bottom:1rem}.welcome-content h3[data-v-10f8c36c]{color:#1e293b;margin:0 0 .5rem 0;font-size:1.5rem;font-weight:600}.welcome-content p[data-v-10f8c36c]{color:#64748b;margin:0;line-height:1.6}.message-wrapper[data-v-10f8c36c]{display:flex;animation:messageSlide-10f8c36c .3s ease-out}.message-wrapper.user-message[data-v-10f8c36c]{justify-content:flex-end}.message-wrapper.ai-message[data-v-10f8c36c]{justify-content:flex-start}.message-bubble[data-v-10f8c36c]{max-width:70%;min-width:100px}.user-message .message-bubble[data-v-10f8c36c]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-radius:18px 18px 4px 18px;padding:1rem 1.25rem;box-shadow:0 2px 12px rgba(102,126,234,.3)}.ai-message .message-bubble[data-v-10f8c36c]{background:#fff;color:#1e293b;border-radius:18px 18px 18px 4px;padding:1rem 1.25rem;box-shadow:0 2px 12px rgba(0,0,0,.1);border:1px solid #e2e8f0}.message-content[data-v-10f8c36c]{margin-bottom:.5rem}.message-text[data-v-10f8c36c]{line-height:1.5;font-size:.95rem;white-space:pre-wrap;word-wrap:break-word}.markdown-content[data-v-10f8c36c]{line-height:1.6}.markdown-content h1[data-v-10f8c36c],.markdown-content h2[data-v-10f8c36c],.markdown-content h3[data-v-10f8c36c],.markdown-content h4[data-v-10f8c36c],.markdown-content h5[data-v-10f8c36c],.markdown-content h6[data-v-10f8c36c]{margin:1rem 0 .5rem 0;font-weight:600;line-height:1.3}.markdown-content h1[data-v-10f8c36c]{font-size:1.5rem}.markdown-content h2[data-v-10f8c36c]{font-size:1.3rem}.markdown-content h3[data-v-10f8c36c]{font-size:1.1rem}.markdown-content h4[data-v-10f8c36c]{font-size:1rem}.markdown-content p[data-v-10f8c36c]{margin:.5rem 0}.markdown-content ol[data-v-10f8c36c],.markdown-content ul[data-v-10f8c36c]{margin:.5rem 0;padding-left:1.5rem}.markdown-content li[data-v-10f8c36c]{margin:.25rem 0}.markdown-content code[data-v-10f8c36c]{background:rgba(0,0,0,.1);padding:.2rem .4rem;border-radius:4px;font-family:Monaco,Menlo,Ubuntu Mono,monospace;font-size:.85rem}.ai-message .markdown-content code[data-v-10f8c36c]{background:#f1f5f9;color:#475569}.markdown-content pre[data-v-10f8c36c]{background:#f8fafc;border:1px solid #e2e8f0;border-radius:8px;padding:1rem;margin:.5rem 0;overflow-x:auto;font-family:Monaco,Menlo,Ubuntu Mono,monospace;font-size:.85rem;line-height:1.4}.markdown-content pre code[data-v-10f8c36c]{background:none;padding:0;border-radius:0;font-size:inherit}.markdown-content blockquote[data-v-10f8c36c]{border-left:4px solid #667eea;margin:.5rem 0;padding:.5rem 0 .5rem 1rem;background:rgba(102,126,234,.05);border-radius:0 4px 4px 0;font-style:italic}.markdown-content a[data-v-10f8c36c]{color:#667eea;text-decoration:none;border-bottom:1px solid transparent;transition:border-color .2s ease}.markdown-content a[data-v-10f8c36c]:hover{border-bottom-color:#667eea}.markdown-content table[data-v-10f8c36c]{width:100%;border-collapse:collapse;margin:.5rem 0;font-size:.9rem}.markdown-content td[data-v-10f8c36c],.markdown-content th[data-v-10f8c36c]{border:1px solid #e2e8f0;padding:.5rem;text-align:left}.markdown-content th[data-v-10f8c36c]{background:#f8fafc;font-weight:600}.markdown-content hr[data-v-10f8c36c]{border:none;border-top:1px solid #e2e8f0;margin:1rem 0}.markdown-content strong[data-v-10f8c36c]{font-weight:600}.markdown-content em[data-v-10f8c36c]{font-style:italic}.message-time[data-v-10f8c36c]{font-size:.75rem;opacity:.6;text-align:right}.user-message .message-time[data-v-10f8c36c]{color:hsla(0,0%,100%,.8)}.ai-message .message-time[data-v-10f8c36c]{color:#64748b}.thinking-indicator[data-v-10f8c36c]{display:flex;align-items:center;gap:.75rem}.typing-dots[data-v-10f8c36c]{display:flex;gap:4px}.typing-dots span[data-v-10f8c36c]{width:6px;height:6px;background:#94a3b8;border-radius:50%;animation:typing-10f8c36c 1.4s ease-in-out infinite}.typing-dots span[data-v-10f8c36c]:nth-child(2){animation-delay:.2s}.typing-dots span[data-v-10f8c36c]:nth-child(3){animation-delay:.4s}.thinking-text[data-v-10f8c36c]{font-style:italic;color:#64748b;font-size:.9rem}.input-container[data-v-10f8c36c]{padding:1.5rem 2rem 2rem 2rem;background:#fff;border-top:1px solid #e2e8f0}.input-wrapper[data-v-10f8c36c]{display:flex;align-items:flex-end;gap:1rem;max-width:100%}.message-input[data-v-10f8c36c]{flex:1;border:2px solid #e2e8f0;border-radius:12px;padding:1rem 1.25rem;font-size:1rem;font-family:inherit;resize:none;outline:none;transition:all .2s ease;line-height:1.5;max-height:120px;background:#f8fafc}.message-input[data-v-10f8c36c]:focus{border-color:#667eea;background:#fff;box-shadow:0 0 0 3px rgba(102,126,234,.1)}.message-input[data-v-10f8c36c]::-moz-placeholder{color:#94a3b8}.message-input[data-v-10f8c36c]::placeholder{color:#94a3b8}.send-button[data-v-10f8c36c]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:12px;width:48px;height:48px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;flex-shrink:0}.send-button[data-v-10f8c36c]:hover:not(:disabled){transform:translateY(-1px);box-shadow:0 4px 12px rgba(102,126,234,.4)}.send-button[data-v-10f8c36c]:active{transform:translateY(0)}.send-button[data-v-10f8c36c]:disabled{opacity:.6;cursor:not-allowed;transform:none}.loading-spinner[data-v-10f8c36c],.send-icon[data-v-10f8c36c]{width:20px;height:20px}.loading-spinner[data-v-10f8c36c]{border:2px solid hsla(0,0%,100%,.3);border-top:2px solid #fff;border-radius:50%;animation:spin-10f8c36c 1s linear infinite}@keyframes messageSlide-10f8c36c{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes typing-10f8c36c{0%,60%,to{transform:translateY(0);opacity:.4}30%{transform:translateY(-10px);opacity:1}}@keyframes spin-10f8c36c{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.messages-container[data-v-10f8c36c]::-webkit-scrollbar{width:6px}.messages-container[data-v-10f8c36c]::-webkit-scrollbar-track{background:transparent}.messages-container[data-v-10f8c36c]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:3px}.messages-container[data-v-10f8c36c]::-webkit-scrollbar-thumb:hover{background:#94a3b8}@media (max-width:768px){.chat-container[data-v-10f8c36c]{height:100vh;border-radius:0;max-width:100%}.chat-header[data-v-10f8c36c]{border-radius:0;padding:1rem}.hints-section[data-v-10f8c36c]{padding:.75rem 1rem}.header-content[data-v-10f8c36c]{gap:.75rem}.header-text h2[data-v-10f8c36c]{font-size:1.25rem}.ai-avatar[data-v-10f8c36c]{width:40px;height:40px}.brain-icon[data-v-10f8c36c]{width:20px;height:20px}.messages-list[data-v-10f8c36c]{padding:1rem}.message-bubble[data-v-10f8c36c]{max-width:85%}.input-container[data-v-10f8c36c]{padding:1rem}.input-wrapper[data-v-10f8c36c]{gap:.75rem}.send-button[data-v-10f8c36c]{width:44px;height:44px}.send-icon[data-v-10f8c36c]{width:18px;height:18px}.hints-list[data-v-10f8c36c]{gap:.375rem}.hint-btn[data-v-10f8c36c]{font-size:.8rem;padding:.375rem .75rem}}@media (max-width:480px){.welcome-content[data-v-10f8c36c]{padding:1rem}.welcome-content h3[data-v-10f8c36c]{font-size:1.25rem}.message-bubble[data-v-10f8c36c]{max-width:90%}}",""]),a["default"]=i},18816:function(e,a,t){var n=t(13553);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var o=t(74825).A;o("5f01d718",n,!0,{sourceMap:!1,shadowMode:!1})},65419:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return C}});var n=t(9274),o=t(4364);const r={class:"chat-container"},c={key:0,class:"hints-section"},i={class:"hints-container"},d={class:"hints-list"},s=["onClick"],l={class:"messages-list"},f={key:0,class:"welcome-message"},m={class:"message-bubble"},p={class:"message-content"},u={key:0,class:"thinking-indicator"},g=["innerHTML"],h={key:2,class:"message-text"},v={class:"message-time"},b={class:"input-container"},x={class:"input-wrapper"},k=["onKeyup"],w=["disabled"],y={key:0,viewBox:"0 0 24 24",class:"send-icon"},E={key:1,class:"loading-spinner"},V="https://holmes.192.223.13.246.sslip.io/api/workload_health_chat";var N={__name:"ChatTabComponent",setup(e){let a,N={};try{a=t(54928).useRoute}catch(Z){a=null}if(a){const e=a();N=e?.params||{}}else if("undefined"!==typeof window){const e=window.location.pathname.split("/"),a=e.indexOf("cluster"),t=e.indexOf("resource"),n=e.indexOf("id"),o=e.indexOf("namespace"),r=e.indexOf("product");N={cluster:-1!==a?e[a+1]:null,resource:-1!==t?e[t+1]:null,id:-1!==n?e[n+1]:null,namespace:-1!==o?e[o+1]:null,product:-1!==r?e[r+1]:null}}N.cluster;const z=N.resource||"pod",B=N.id||"my-deployment",C=N.namespace||"default",_=N.cluster||"local",M=(N.product,(0,n.ref)("")),A=(0,n.ref)([]),T=(0,n.ref)([]),H=(0,n.ref)([]),L=(0,n.ref)(null),O=(0,n.ref)(!1),S=(0,n.ref)(null),j=(0,n.ref)(null),I=(0,n.ref)("Check workload health"),Y=(0,n.ref)([]),D=(0,n.ref)(!0);function K(e){try{if("undefined"!==typeof MarkdownIt){const a=new MarkdownIt({html:!0,linkify:!0,typographer:!0,breaks:!0});return a.render(e)}}catch(Z){o.log("MarkdownIt not available, using simple markdown")}return e.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/`(.*?)`/g,"<code>$1</code>").replace(/\n/g,"<br>")}function R(e){return e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}function U(){const e=j.value;e&&(e.style.height="auto",e.style.height=Math.min(e.scrollHeight,120)+"px")}function q(e){e.shiftKey||P()}function $(){(0,n.nextTick)(()=>{S.value&&(S.value.scrollTop=S.value.scrollHeight)})}function F(e){M.value=e,P()}async function P(){const e=M.value.trim();if(!e||O.value)return;O.value=!0,A.value.push({role:"user",text:e}),T.value.push({role:"user",content:e}),M.value="",D.value=!1,j.value&&(j.value.style.height="auto"),$();const a={role:"ai",text:"💭 Agent is analyzing..."};A.value.push(a),$();try{const t={ask:e,resource:{name:B,kind:z.charAt(0).toUpperCase()+z.slice(1),namespace:C,cluster:_},workload_health_result:L.value||{analysis:"",tools:[]}};H.value.length>0&&(t.conversation_history=H.value);const n=await fetch(V,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),r=await n.json();o.log("Response data:",r);const c=r.analysis||"[No reply]";H.value=r.conversation_history||[],L.value={analysis:c,tools:[]},Y.value=r.follow_up_actions||[];const i=A.value.indexOf(a);-1!==i&&(A.value[i]={role:"ai",text:c}),T.value.push({role:"assistant",content:c})}catch(Z){o.error("Chat error:",Z);const t=A.value.indexOf(a);-1!==t&&(A.value[t]={role:"ai",text:"❌ Error: Could not reach N-TNT backend. Please try again."})}finally{O.value=!1,$()}}return(0,n.onMounted)(()=>{U()}),(e,a)=>((0,n.openBlock)(),(0,n.createElementBlock)("div",r,[a[6]||(a[6]=(0,n.createStaticVNode)('<div class="chat-header" data-v-10f8c36c><div class="header-content" data-v-10f8c36c><div class="ai-avatar" data-v-10f8c36c><svg viewBox="0 0 24 24" class="brain-icon" data-v-10f8c36c><path fill="currentColor" d="M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2M21 9V7L15 1H5C3.89 1 3 1.89 3 3V19C3 20.11 3.89 21 5 21H11V19H5V3H13V9H21Z" data-v-10f8c36c></path></svg></div><div class="header-text" data-v-10f8c36c><h2 data-v-10f8c36c>🧠 AI Agent Assistant</h2><p class="status" data-v-10f8c36c>Online • Ready to help with workload health</p></div></div></div>',1)),D.value||Y.value.length>0?((0,n.openBlock)(),(0,n.createElementBlock)("div",c,[(0,n.createElementVNode)("div",i,[a[2]||(a[2]=(0,n.createElementVNode)("div",{class:"hints-label"},"Quick Actions:",-1)),(0,n.createElementVNode)("div",d,[D.value?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:0,class:"hint-btn",onClick:a[0]||(a[0]=e=>F(I.value))},(0,n.toDisplayString)(I.value),1)):(0,n.createCommentVNode)("",!0),((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(Y.value,(e,a)=>((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:a,class:"hint-btn",onClick:a=>F(e.prompt)},(0,n.toDisplayString)(e.prompt),9,s))),128))])])])):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("div",{class:"messages-container",ref_key:"messagesContainer",ref:S},[(0,n.createElementVNode)("div",l,[0===A.value.length?((0,n.openBlock)(),(0,n.createElementBlock)("div",f,a[3]||(a[3]=[(0,n.createElementVNode)("div",{class:"welcome-content"},[(0,n.createElementVNode)("div",{class:"welcome-icon"},"🔍"),(0,n.createElementVNode)("h3",null,"Workload Health Assistant"),(0,n.createElementVNode)("p",null,"I'm here to help you analyze and troubleshoot your Kubernetes workloads. Click on a quick action above or ask me anything!")],-1)]))):(0,n.createCommentVNode)("",!0),((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(A.value,(e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:t,class:(0,n.normalizeClass)(["message-wrapper",{"user-message":"user"===e.role,"ai-message":"ai"===e.role}])},[(0,n.createElementVNode)("div",m,[(0,n.createElementVNode)("div",p,["ai"===e.role&&e.text.includes("💭")?((0,n.openBlock)(),(0,n.createElementBlock)("div",u,a[4]||(a[4]=[(0,n.createElementVNode)("div",{class:"typing-dots"},[(0,n.createElementVNode)("span"),(0,n.createElementVNode)("span"),(0,n.createElementVNode)("span")],-1),(0,n.createElementVNode)("span",{class:"thinking-text"},"Agent is analyzing...",-1)]))):"ai"===e.role?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:1,class:"message-text markdown-content",innerHTML:K(e.text)},null,8,g)):((0,n.openBlock)(),(0,n.createElementBlock)("div",h,(0,n.toDisplayString)(e.text),1))]),(0,n.createElementVNode)("div",v,(0,n.toDisplayString)(R(new Date)),1)])],2))),128))])],512),(0,n.createElementVNode)("div",b,[(0,n.createElementVNode)("div",x,[(0,n.withDirectives)((0,n.createElementVNode)("textarea",{"onUpdate:modelValue":a[1]||(a[1]=e=>M.value=e),placeholder:"Ask about workload health, troubleshooting, or any Kubernetes questions...",onKeyup:(0,n.withKeys)((0,n.withModifiers)(q,["prevent"]),["enter"]),onInput:U,ref_key:"textareaRef",ref:j,class:"message-input",rows:"1"},null,40,k),[[n.vModelText,M.value]]),(0,n.createElementVNode)("button",{onClick:P,disabled:!M.value.trim()||O.value,class:(0,n.normalizeClass)(["send-button",{loading:O.value}])},[O.value?((0,n.openBlock)(),(0,n.createElementBlock)("div",E)):((0,n.openBlock)(),(0,n.createElementBlock)("svg",y,a[5]||(a[5]=[(0,n.createElementVNode)("path",{fill:"currentColor",d:"M2,21L23,12L2,3V10L17,12L2,14V21Z"},null,-1)])))],10,w)])])]))}},z=(t(18816),t(47433));const B=(0,z.A)(N,[["__scopeId","data-v-10f8c36c"]]);var C=B}}]);
//# sourceMappingURL=my-app-0.1.5.umd.min.419.js.map