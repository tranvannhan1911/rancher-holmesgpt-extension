(("undefined"!==typeof self?self:this)["webpackChunkmy_app_0_1_8"]=("undefined"!==typeof self?self:this)["webpackChunkmy_app_0_1_8"]||[]).push([[190],{6559:function(e,a,t){"use strict";t.r(a);var n=t(36758),o=t.n(n),r=t(40935),i=t.n(r),d=i()(o());d.push([e.id,".chat-container[data-v-0515f625]{max-width:900px;margin:0 auto;background:#fff;border-radius:16px;box-shadow:0 4px 24px rgba(0,0,0,.1);display:flex;flex-direction:column;height:80vh;overflow:hidden}.chat-header[data-v-0515f625]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:1.5rem 2rem;border-radius:16px 16px 0 0}.header-content[data-v-0515f625]{gap:1rem}.ai-avatar[data-v-0515f625],.header-content[data-v-0515f625]{display:flex;align-items:center}.ai-avatar[data-v-0515f625]{width:48px;height:48px;background:hsla(0,0%,100%,.2);border-radius:12px;justify-content:center;backdrop-filter:blur(10px)}.brain-icon[data-v-0515f625]{width:24px;height:24px}.header-text h2[data-v-0515f625]{margin:0;font-size:1.5rem;font-weight:600}.status[data-v-0515f625]{margin:.25rem 0 0 0;opacity:.9;font-size:.875rem}.hints-section[data-v-0515f625]{background:#f8fafc;border-bottom:1px solid #e2e8f0;padding:1rem 2rem}.hints-container[data-v-0515f625]{display:flex;flex-direction:column;gap:.75rem}.hints-label[data-v-0515f625]{font-size:.875rem;font-weight:600;color:#475569}.hints-list[data-v-0515f625]{display:flex;gap:.5rem;flex-wrap:wrap;overflow-x:auto;padding-bottom:.25rem}.hint-btn[data-v-0515f625]{padding:.5rem 1rem;background:#fff;border:1px solid #d1d5db;border-radius:20px;cursor:pointer;font-size:.875rem;white-space:nowrap;transition:all .2s ease;color:#374151;font-weight:500}.hint-btn[data-v-0515f625]:hover{background:#667eea;color:#fff;border-color:#667eea;transform:translateY(-1px);box-shadow:0 2px 8px rgba(102,126,234,.3)}.messages-container[data-v-0515f625]{flex:1;overflow-y:auto;padding:0;background:#f8fafc}.messages-list[data-v-0515f625]{padding:1.5rem;display:flex;flex-direction:column;gap:1rem;min-height:100%}.welcome-message[data-v-0515f625]{display:flex;justify-content:center;align-items:center;flex:1;text-align:center}.welcome-content[data-v-0515f625]{max-width:400px;padding:2rem}.welcome-icon[data-v-0515f625]{font-size:3rem;margin-bottom:1rem}.welcome-content h3[data-v-0515f625]{color:#1e293b;margin:0 0 .5rem 0;font-size:1.5rem;font-weight:600}.welcome-content p[data-v-0515f625]{color:#64748b;margin:0;line-height:1.6}.message-wrapper[data-v-0515f625]{display:flex;animation:messageSlide-0515f625 .3s ease-out}.message-wrapper.user-message[data-v-0515f625]{justify-content:flex-end}.message-wrapper.ai-message[data-v-0515f625]{justify-content:flex-start}.message-bubble[data-v-0515f625]{max-width:70%;min-width:100px}.user-message .message-bubble[data-v-0515f625]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-radius:18px 18px 4px 18px;padding:1rem 1.25rem;box-shadow:0 2px 12px rgba(102,126,234,.3)}.ai-message .message-bubble[data-v-0515f625]{background:#fff;color:#1e293b;border-radius:18px 18px 18px 4px;padding:1rem 1.25rem;box-shadow:0 2px 12px rgba(0,0,0,.1);border:1px solid #e2e8f0}.message-content[data-v-0515f625]{margin-bottom:.5rem}.message-text[data-v-0515f625]{line-height:1.5;font-size:.95rem;white-space:pre-wrap;word-wrap:break-word}.markdown-content[data-v-0515f625]{line-height:1.6}.markdown-content h1[data-v-0515f625],.markdown-content h2[data-v-0515f625],.markdown-content h3[data-v-0515f625],.markdown-content h4[data-v-0515f625],.markdown-content h5[data-v-0515f625],.markdown-content h6[data-v-0515f625]{margin:1rem 0 .5rem 0;font-weight:600;line-height:1.3}.markdown-content h1[data-v-0515f625]{font-size:1.5rem}.markdown-content h2[data-v-0515f625]{font-size:1.3rem}.markdown-content h3[data-v-0515f625]{font-size:1.1rem}.markdown-content h4[data-v-0515f625]{font-size:1rem}.markdown-content p[data-v-0515f625]{margin:.5rem 0}.markdown-content ol[data-v-0515f625],.markdown-content ul[data-v-0515f625]{margin:.5rem 0;padding-left:1.5rem}.markdown-content li[data-v-0515f625]{margin:.25rem 0}.markdown-content code[data-v-0515f625]{background:rgba(0,0,0,.1);padding:.2rem .4rem;border-radius:4px;font-family:Monaco,Menlo,Ubuntu Mono,monospace;font-size:.85rem}.ai-message .markdown-content code[data-v-0515f625]{background:#f1f5f9;color:#475569}.markdown-content pre[data-v-0515f625]{background:#f8fafc;border:1px solid #e2e8f0;border-radius:8px;padding:1rem;margin:.5rem 0;overflow-x:auto;font-family:Monaco,Menlo,Ubuntu Mono,monospace;font-size:.85rem;line-height:1.4}.markdown-content pre code[data-v-0515f625]{background:none;padding:0;border-radius:0;font-size:inherit}.markdown-content blockquote[data-v-0515f625]{border-left:4px solid #667eea;margin:.5rem 0;padding:.5rem 0 .5rem 1rem;background:rgba(102,126,234,.05);border-radius:0 4px 4px 0;font-style:italic}.markdown-content a[data-v-0515f625]{color:#667eea;text-decoration:none;border-bottom:1px solid transparent;transition:border-color .2s ease}.markdown-content a[data-v-0515f625]:hover{border-bottom-color:#667eea}.markdown-content table[data-v-0515f625]{width:100%;border-collapse:collapse;margin:.5rem 0;font-size:.9rem}.markdown-content td[data-v-0515f625],.markdown-content th[data-v-0515f625]{border:1px solid #e2e8f0;padding:.5rem;text-align:left}.markdown-content th[data-v-0515f625]{background:#f8fafc;font-weight:600}.markdown-content hr[data-v-0515f625]{border:none;border-top:1px solid #e2e8f0;margin:1rem 0}.markdown-content strong[data-v-0515f625]{font-weight:600}.markdown-content em[data-v-0515f625]{font-style:italic}.message-time[data-v-0515f625]{font-size:.75rem;opacity:.6;text-align:right}.user-message .message-time[data-v-0515f625]{color:hsla(0,0%,100%,.8)}.ai-message .message-time[data-v-0515f625]{color:#64748b}.thinking-indicator[data-v-0515f625]{display:flex;align-items:center;gap:.75rem}.typing-dots[data-v-0515f625]{display:flex;gap:4px}.typing-dots span[data-v-0515f625]{width:6px;height:6px;background:#94a3b8;border-radius:50%;animation:typing-0515f625 1.4s ease-in-out infinite}.typing-dots span[data-v-0515f625]:nth-child(2){animation-delay:.2s}.typing-dots span[data-v-0515f625]:nth-child(3){animation-delay:.4s}.thinking-text[data-v-0515f625]{font-style:italic;color:#64748b;font-size:.9rem}.input-container[data-v-0515f625]{padding:1.5rem 2rem 2rem 2rem;background:#fff;border-top:1px solid #e2e8f0}.input-wrapper[data-v-0515f625]{display:flex;align-items:flex-end;gap:1rem;max-width:100%}.message-input[data-v-0515f625]{flex:1;border:2px solid #e2e8f0;border-radius:12px;padding:1rem 1.25rem;font-size:1rem;font-family:inherit;resize:none;outline:none;transition:all .2s ease;line-height:1.5;max-height:120px;background:#f8fafc}.message-input[data-v-0515f625]:focus{border-color:#667eea;background:#fff;box-shadow:0 0 0 3px rgba(102,126,234,.1)}.message-input[data-v-0515f625]::-moz-placeholder{color:#94a3b8}.message-input[data-v-0515f625]::placeholder{color:#94a3b8}.send-button[data-v-0515f625]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:12px;width:48px;height:48px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;flex-shrink:0}.send-button[data-v-0515f625]:hover:not(:disabled){transform:translateY(-1px);box-shadow:0 4px 12px rgba(102,126,234,.4)}.send-button[data-v-0515f625]:active{transform:translateY(0)}.send-button[data-v-0515f625]:disabled{opacity:.6;cursor:not-allowed;transform:none}.loading-spinner[data-v-0515f625],.send-icon[data-v-0515f625]{width:20px;height:20px}.loading-spinner[data-v-0515f625]{border:2px solid hsla(0,0%,100%,.3);border-top:2px solid #fff;border-radius:50%;animation:spin-0515f625 1s linear infinite}@keyframes messageSlide-0515f625{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes typing-0515f625{0%,60%,to{transform:translateY(0);opacity:.4}30%{transform:translateY(-10px);opacity:1}}@keyframes spin-0515f625{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.messages-container[data-v-0515f625]::-webkit-scrollbar{width:6px}.messages-container[data-v-0515f625]::-webkit-scrollbar-track{background:transparent}.messages-container[data-v-0515f625]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:3px}.messages-container[data-v-0515f625]::-webkit-scrollbar-thumb:hover{background:#94a3b8}@media (max-width:768px){.chat-container[data-v-0515f625]{height:100vh;border-radius:0;max-width:100%}.chat-header[data-v-0515f625]{border-radius:0;padding:1rem}.hints-section[data-v-0515f625]{padding:.75rem 1rem}.header-content[data-v-0515f625]{gap:.75rem}.header-text h2[data-v-0515f625]{font-size:1.25rem}.ai-avatar[data-v-0515f625]{width:40px;height:40px}.brain-icon[data-v-0515f625]{width:20px;height:20px}.messages-list[data-v-0515f625]{padding:1rem}.message-bubble[data-v-0515f625]{max-width:85%}.input-container[data-v-0515f625]{padding:1rem}.input-wrapper[data-v-0515f625]{gap:.75rem}.send-button[data-v-0515f625]{width:44px;height:44px}.send-icon[data-v-0515f625]{width:18px;height:18px}.hints-list[data-v-0515f625]{gap:.375rem}.hint-btn[data-v-0515f625]{font-size:.8rem;padding:.375rem .75rem}}@media (max-width:480px){.welcome-content[data-v-0515f625]{padding:1rem}.welcome-content h3[data-v-0515f625]{font-size:1.25rem}.message-bubble[data-v-0515f625]{max-width:90%}}",""]),a["default"]=d},34190:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return _}});var n=t(9274),o=t(37069),r=t(4364);const i={class:"chat-container"},d={key:0,class:"hints-section"},s={class:"hints-container"},l={class:"hints-list"},c=["onClick"],f={class:"messages-list"},m={key:0,class:"welcome-message"},p={class:"message-bubble"},u={class:"message-content"},g={key:0,class:"thinking-indicator"},h=["innerHTML"],v={key:2,class:"message-text"},b={class:"message-time"},x={class:"input-container"},k={class:"input-wrapper"},w=["onKeyup"],y=["disabled"],E={key:0,viewBox:"0 0 24 24",class:"send-icon"},V={key:1,class:"loading-spinner"},N="https://holmes.192.223.13.246.sslip.io/api/workload_health_chat";var z={__name:"ChatTabComponent",setup(e){const a=(0,o.lq)();let t=a?.params||{},z="";if(a&&a.path?z=a.path:"undefined"!==typeof window&&(z=window.location.pathname),!t.resource||!t.id||!t.cluster){const e=z.match(/\/dashboard\/c\/(.*?)\/explorer\/(.*?)\/(.*?)\//);e&&(t.cluster=e[1],t.resource=e[2],t.id=e[3])}t.cluster;const B=t.resource||"pod",C=t.id||"my-deployment",_=t.namespace||"default",M=t.cluster||"local",A=(t.product,(0,n.ref)("")),T=(0,n.ref)([]),H=(0,n.ref)([]),L=(0,n.ref)([]),S=(0,n.ref)(null),j=(0,n.ref)(!1),I=(0,n.ref)(null),Y=(0,n.ref)(null),D=(0,n.ref)("Check workload health"),K=(0,n.ref)([]),O=(0,n.ref)(!0);function q(e){try{if("undefined"!==typeof MarkdownIt){const a=new MarkdownIt({html:!0,linkify:!0,typographer:!0,breaks:!0});return a.render(e)}}catch(a){r.log("MarkdownIt not available, using simple markdown")}return e.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/`(.*?)`/g,"<code>$1</code>").replace(/\n/g,"<br>")}function U(e){return e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}function R(){const e=Y.value;e&&(e.style.height="auto",e.style.height=Math.min(e.scrollHeight,120)+"px")}function $(e){e.shiftKey||Z()}function F(){(0,n.nextTick)(()=>{I.value&&(I.value.scrollTop=I.value.scrollHeight)})}function P(e){A.value=e,Z()}async function Z(){const e=A.value.trim();if(!e||j.value)return;j.value=!0,T.value.push({role:"user",text:e}),H.value.push({role:"user",content:e}),A.value="",O.value=!1,Y.value&&(Y.value.style.height="auto"),F();const a={role:"ai",text:"💭 Agent is analyzing..."};T.value.push(a),F();try{const t={ask:e,resource:{name:C,kind:B.charAt(0).toUpperCase()+B.slice(1),namespace:_,cluster:M},workload_health_result:S.value||{analysis:"",tools:[]}};L.value.length>0&&(t.conversation_history=L.value);const n=await fetch(N,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),o=await n.json();r.log("Response data:",o);const i=o.analysis||"[No reply]";L.value=o.conversation_history||[],S.value={analysis:i,tools:[]},K.value=o.follow_up_actions||[];const d=T.value.indexOf(a);-1!==d&&(T.value[d]={role:"ai",text:i}),H.value.push({role:"assistant",content:i})}catch(t){r.error("Chat error:",t);const e=T.value.indexOf(a);-1!==e&&(T.value[e]={role:"ai",text:"❌ Error: Could not reach N-TNT backend. Please try again."})}finally{j.value=!1,F()}}return(0,n.onMounted)(()=>{R()}),(e,a)=>((0,n.openBlock)(),(0,n.createElementBlock)("div",i,[a[6]||(a[6]=(0,n.createStaticVNode)('<div class="chat-header" data-v-0515f625><div class="header-content" data-v-0515f625><div class="ai-avatar" data-v-0515f625><svg viewBox="0 0 24 24" class="brain-icon" data-v-0515f625><path fill="currentColor" d="M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2M21 9V7L15 1H5C3.89 1 3 1.89 3 3V19C3 20.11 3.89 21 5 21H11V19H5V3H13V9H21Z" data-v-0515f625></path></svg></div><div class="header-text" data-v-0515f625><h2 data-v-0515f625>🧠 AI Agent Assistant</h2><p class="status" data-v-0515f625>Online • Ready to help with workload health</p></div></div></div>',1)),O.value||K.value?.length>0?((0,n.openBlock)(),(0,n.createElementBlock)("div",d,[(0,n.createElementVNode)("div",s,[a[2]||(a[2]=(0,n.createElementVNode)("div",{class:"hints-label"},"Quick Actions:",-1)),(0,n.createElementVNode)("div",l,[O.value?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:0,class:"hint-btn",onClick:a[0]||(a[0]=e=>P(D.value))},(0,n.toDisplayString)(D.value),1)):(0,n.createCommentVNode)("",!0),((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(K.value,(e,a)=>((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:a,class:"hint-btn",onClick:a=>P(e.prompt)},(0,n.toDisplayString)(e.prompt),9,c))),128))])])])):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("div",{class:"messages-container",ref_key:"messagesContainer",ref:I},[(0,n.createElementVNode)("div",f,[0===T.value?.length?((0,n.openBlock)(),(0,n.createElementBlock)("div",m,a[3]||(a[3]=[(0,n.createElementVNode)("div",{class:"welcome-content"},[(0,n.createElementVNode)("div",{class:"welcome-icon"},"🔍"),(0,n.createElementVNode)("h3",null,"Workload Health Assistant"),(0,n.createElementVNode)("p",null,"I'm here to help you analyze and troubleshoot your Kubernetes workloads. Click on a quick action above or ask me anything!")],-1)]))):(0,n.createCommentVNode)("",!0),((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(T.value,(e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:t,class:(0,n.normalizeClass)(["message-wrapper",{"user-message":"user"===e.role,"ai-message":"ai"===e.role}])},[(0,n.createElementVNode)("div",p,[(0,n.createElementVNode)("div",u,["ai"===e.role&&e.text.includes("💭")?((0,n.openBlock)(),(0,n.createElementBlock)("div",g,a[4]||(a[4]=[(0,n.createElementVNode)("div",{class:"typing-dots"},[(0,n.createElementVNode)("span"),(0,n.createElementVNode)("span"),(0,n.createElementVNode)("span")],-1),(0,n.createElementVNode)("span",{class:"thinking-text"},"Agent is analyzing...",-1)]))):"ai"===e.role?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:1,class:"message-text markdown-content",innerHTML:q(e.text)},null,8,h)):((0,n.openBlock)(),(0,n.createElementBlock)("div",v,(0,n.toDisplayString)(e.text),1))]),(0,n.createElementVNode)("div",b,(0,n.toDisplayString)(U(new Date)),1)])],2))),128))])],512),(0,n.createElementVNode)("div",x,[(0,n.createElementVNode)("div",k,[(0,n.withDirectives)((0,n.createElementVNode)("textarea",{"onUpdate:modelValue":a[1]||(a[1]=e=>A.value=e),placeholder:"Ask about workload health, troubleshooting, or any Kubernetes questions...",onKeyup:(0,n.withKeys)((0,n.withModifiers)($,["prevent"]),["enter"]),onInput:R,ref_key:"textareaRef",ref:Y,class:"message-input",rows:"1"},null,40,w),[[n.vModelText,A.value]]),(0,n.createElementVNode)("button",{onClick:Z,disabled:!A.value.trim()||j.value,class:(0,n.normalizeClass)(["send-button",{loading:j.value}])},[j.value?((0,n.openBlock)(),(0,n.createElementBlock)("div",V)):((0,n.openBlock)(),(0,n.createElementBlock)("svg",E,a[5]||(a[5]=[(0,n.createElementVNode)("path",{fill:"currentColor",d:"M2,21L23,12L2,3V10L17,12L2,14V21Z"},null,-1)])))],10,y)])])]))}},B=(t(41526),t(47433));const C=(0,B.A)(z,[["__scopeId","data-v-0515f625"]]);var _=C},41526:function(e,a,t){var n=t(6559);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var o=t(74825).A;o("6cb89f74",n,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=my-app-0.1.8.umd.min.190.js.map